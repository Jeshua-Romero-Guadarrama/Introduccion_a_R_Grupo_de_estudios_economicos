<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10.2 lapply | R Grupo de estudios económicos</title>
  <meta name="description" content="Los estudiantes con poca experiencia en el análisis avanzado de estadísticas a menudo tienen dificultades para entender los beneficios de desarrollar habilidades de programación al momento de aplicar diversos métodos descriptivos e inferenciales. ‘Análisis estadístico con R para principiantes’ por Jeshua Romero Guadarrama (2021), ofrece una introducción interactiva a los aspectos esenciales de la programación por medio del lenguaje y software estadístico R, así como una guía para la aplicación de la teoría económica y econométrica en entornos específicos. En otras palabras, el objetivo es que los estudiantes se adentren al mundo de la economía aplicada mediante ejemplos empíricos presentados en la vida diaria y haciendo uso de las habilidades de programación recién adquiridas. Dicho objetivo se encuentra respaldado por ejercicios de programación interactivos y la incorporación de visualizaciones dinámicas de conceptos fundamentales mediante la flexibilidad de JavaScript, a través de la biblioteca D3.js." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="10.2 lapply | R Grupo de estudios económicos" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://rgrupodeestudioseconomicos.jeshuanomics.com" />
  <meta property="og:image" content="https://rgrupodeestudioseconomicos.jeshuanomics.com/images/cover.png" />
  <meta property="og:description" content="Los estudiantes con poca experiencia en el análisis avanzado de estadísticas a menudo tienen dificultades para entender los beneficios de desarrollar habilidades de programación al momento de aplicar diversos métodos descriptivos e inferenciales. ‘Análisis estadístico con R para principiantes’ por Jeshua Romero Guadarrama (2021), ofrece una introducción interactiva a los aspectos esenciales de la programación por medio del lenguaje y software estadístico R, así como una guía para la aplicación de la teoría económica y econométrica en entornos específicos. En otras palabras, el objetivo es que los estudiantes se adentren al mundo de la economía aplicada mediante ejemplos empíricos presentados en la vida diaria y haciendo uso de las habilidades de programación recién adquiridas. Dicho objetivo se encuentra respaldado por ejercicios de programación interactivos y la incorporación de visualizaciones dinámicas de conceptos fundamentales mediante la flexibilidad de JavaScript, a través de la biblioteca D3.js." />
  <meta name="github-repo" content="https://github.com/Jeshua-Romero-Guadarrama/R_grupo_de_estudios_economicos" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10.2 lapply | R Grupo de estudios económicos" />
  
  <meta name="twitter:description" content="Los estudiantes con poca experiencia en el análisis avanzado de estadísticas a menudo tienen dificultades para entender los beneficios de desarrollar habilidades de programación al momento de aplicar diversos métodos descriptivos e inferenciales. ‘Análisis estadístico con R para principiantes’ por Jeshua Romero Guadarrama (2021), ofrece una introducción interactiva a los aspectos esenciales de la programación por medio del lenguaje y software estadístico R, así como una guía para la aplicación de la teoría económica y econométrica en entornos específicos. En otras palabras, el objetivo es que los estudiantes se adentren al mundo de la economía aplicada mediante ejemplos empíricos presentados en la vida diaria y haciendo uso de las habilidades de programación recién adquiridas. Dicho objetivo se encuentra respaldado por ejercicios de programación interactivos y la incorporación de visualizaciones dinámicas de conceptos fundamentales mediante la flexibilidad de JavaScript, a través de la biblioteca D3.js." />
  <meta name="twitter:image" content="https://rgrupodeestudioseconomicos.jeshuanomics.com/images/cover.png" />

<meta name="author" content="Jeshua Romero Guadarrama, Kevin Fernández, Apocryfo, Jenn, Daniel, Tifany Jiménez, Ernesto, Ezequiel, Rich Conejo, Angiebaram, Jesmarth, Adolfo Robles, Isaac Flores, Abdeel, Roberto Daniel" />


<meta name="date" content="2021-08-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/logo.png" type="image/x-icon" />
<link rel="prev" href="10-1-apply.html"/>
<link rel="next" href="11-importar-y-exportar-datos.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- font families -->

<link href="https://fonts.googleapis.com/css?family=PT+Sans|Pacifico|Source+Sans+Pro" rel="stylesheet">

<script src="js/hideOutput.js"></script>

<!-- Mathjax -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/default.js"></script>

 <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js", "TeX/AMSmath.js"],
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        jax: ["input/TeX","output/CommonHTML"]
      });
      MathJax.Hub.processSectionDelay = 0;
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110299877-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110299877-1');
</script>

<!-- open review block -->

<script async defer src="https://hypothes.is/embed.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><center><img src="images/logo.png" alt="logo" width="50%" height="50%"style="margin: 15px 0 0 0"></center></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="contenido.html"><a href="contenido.html"><i class="fa fa-check"></i>Contenido</a></li>
<li class="chapter" data-level="" data-path="índice-de-contenido.html"><a href="índice-de-contenido.html"><i class="fa fa-check"></i>Índice de contenido</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1-introducción-qué-es-r-y-para-qué-es-usado.html"><a href="1-introducción-qué-es-r-y-para-qué-es-usado.html"><i class="fa fa-check"></i><b>1</b> Introducción: ¿Qué es R y para qué es usado?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1-1-un-poco-de-historia.html"><a href="1-1-un-poco-de-historia.html"><i class="fa fa-check"></i><b>1.1</b> Un poco de historia</a></li>
<li class="chapter" data-level="1.2" data-path="1-2-quién-usa-r.html"><a href="1-2-quién-usa-r.html"><i class="fa fa-check"></i><b>1.2</b> ¿Quién usa R?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-instalación.html"><a href="2-instalación.html"><i class="fa fa-check"></i><b>2</b> Instalación</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2-1-windows.html"><a href="2-1-windows.html"><i class="fa fa-check"></i><b>2.1</b> Windows</a></li>
<li class="chapter" data-level="2.2" data-path="2-2-osx.html"><a href="2-2-osx.html"><i class="fa fa-check"></i><b>2.2</b> OSX</a></li>
<li class="chapter" data-level="2.3" data-path="2-3-linux.html"><a href="2-3-linux.html"><i class="fa fa-check"></i><b>2.3</b> Linux</a></li>
<li class="chapter" data-level="2.4" data-path="2-4-rstudio-un-ide-para-r.html"><a href="2-4-rstudio-un-ide-para-r.html"><i class="fa fa-check"></i><b>2.4</b> RStudio - un IDE para R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-conceptos-básicos.html"><a href="3-conceptos-básicos.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3-1-la-consola-de-r.html"><a href="3-1-la-consola-de-r.html"><i class="fa fa-check"></i><b>3.1</b> La consola de R</a></li>
<li class="chapter" data-level="3.2" data-path="3-2-ejecutar-llamar-correr-y-devolver.html"><a href="3-2-ejecutar-llamar-correr-y-devolver.html"><i class="fa fa-check"></i><b>3.2</b> Ejecutar, llamar, correr y devolver</a></li>
<li class="chapter" data-level="3.3" data-path="3-3-objetos.html"><a href="3-3-objetos.html"><i class="fa fa-check"></i><b>3.3</b> Objetos</a></li>
<li class="chapter" data-level="3.4" data-path="3-4-constantes-y-variables.html"><a href="3-4-constantes-y-variables.html"><i class="fa fa-check"></i><b>3.4</b> Constantes y variables</a></li>
<li class="chapter" data-level="3.5" data-path="3-5-funciones-introducción-básica.html"><a href="3-5-funciones-introducción-básica.html"><i class="fa fa-check"></i><b>3.5</b> Funciones (introducción básica)</a></li>
<li class="chapter" data-level="3.6" data-path="3-6-documentación.html"><a href="3-6-documentación.html"><i class="fa fa-check"></i><b>3.6</b> Documentación</a></li>
<li class="chapter" data-level="3.7" data-path="3-7-directorio-de-trabajo.html"><a href="3-7-directorio-de-trabajo.html"><i class="fa fa-check"></i><b>3.7</b> Directorio de trabajo</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="3-7-directorio-de-trabajo.html"><a href="3-7-directorio-de-trabajo.html#sesión"><i class="fa fa-check"></i><b>3.7.1</b> Sesión</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3-8-paquetes.html"><a href="3-8-paquetes.html"><i class="fa fa-check"></i><b>3.8</b> Paquetes</a></li>
<li class="chapter" data-level="3.9" data-path="3-9-scripts.html"><a href="3-9-scripts.html"><i class="fa fa-check"></i><b>3.9</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-tipos-de-datos.html"><a href="4-tipos-de-datos.html"><i class="fa fa-check"></i><b>4</b> Tipos de datos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4-1-datos-más-comunes.html"><a href="4-1-datos-más-comunes.html"><i class="fa fa-check"></i><b>4.1</b> Datos más comunes</a></li>
<li class="chapter" data-level="4.2" data-path="4-2-entero-y-numérico.html"><a href="4-2-entero-y-numérico.html"><i class="fa fa-check"></i><b>4.2</b> Entero y numérico</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-cadena-de-texto.html"><a href="4-3-cadena-de-texto.html"><i class="fa fa-check"></i><b>4.3</b> Cadena de texto</a></li>
<li class="chapter" data-level="4.4" data-path="4-4-factor.html"><a href="4-4-factor.html"><i class="fa fa-check"></i><b>4.4</b> Factor</a></li>
<li class="chapter" data-level="4.5" data-path="4-5-lógico.html"><a href="4-5-lógico.html"><i class="fa fa-check"></i><b>4.5</b> Lógico</a></li>
<li class="chapter" data-level="4.6" data-path="4-6-na-y-null.html"><a href="4-6-na-y-null.html"><i class="fa fa-check"></i><b>4.6</b> <code>NA</code> y <code>NULL</code></a></li>
<li class="chapter" data-level="4.7" data-path="4-7-coerción.html"><a href="4-7-coerción.html"><i class="fa fa-check"></i><b>4.7</b> Coerción</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="4-7-coerción.html"><a href="4-7-coerción.html#coerción-explícita-con-la-familia-as"><i class="fa fa-check"></i><b>4.7.1</b> Coerción explícita con la familia <code>as()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="4-8-verificar-el-tipo-de-un-dato.html"><a href="4-8-verificar-el-tipo-de-un-dato.html"><i class="fa fa-check"></i><b>4.8</b> Verificar el tipo de un dato</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="4-8-verificar-el-tipo-de-un-dato.html"><a href="4-8-verificar-el-tipo-de-un-dato.html#verificación-con-la-familia-de-funciones-is"><i class="fa fa-check"></i><b>4.8.1</b> Verificación con la familia de funciones <code>is()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-operadores.html"><a href="5-operadores.html"><i class="fa fa-check"></i><b>5</b> Operadores</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5-1-operadores-aritméticos.html"><a href="5-1-operadores-aritméticos.html"><i class="fa fa-check"></i><b>5.1</b> Operadores aritméticos</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="5-1-operadores-aritméticos.html"><a href="5-1-operadores-aritméticos.html#la-división-entera"><i class="fa fa-check"></i><b>5.1.1</b> La división entera</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-2-operadores-relacionales.html"><a href="5-2-operadores-relacionales.html"><i class="fa fa-check"></i><b>5.2</b> Operadores relacionales</a></li>
<li class="chapter" data-level="5.3" data-path="5-3-operadores-lógicos.html"><a href="5-3-operadores-lógicos.html"><i class="fa fa-check"></i><b>5.3</b> Operadores lógicos</a></li>
<li class="chapter" data-level="5.4" data-path="5-4-operadores-de-asignación.html"><a href="5-4-operadores-de-asignación.html"><i class="fa fa-check"></i><b>5.4</b> Operadores de asignación</a></li>
<li class="chapter" data-level="5.5" data-path="5-5-orden-de-operaciones.html"><a href="5-5-orden-de-operaciones.html"><i class="fa fa-check"></i><b>5.5</b> Orden de operaciones</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-estructuras-de-datos.html"><a href="6-estructuras-de-datos.html"><i class="fa fa-check"></i><b>6</b> Estructuras de datos</a>
<ul>
<li class="chapter" data-level="6.1" data-path="6-1-vectores.html"><a href="6-1-vectores.html"><i class="fa fa-check"></i><b>6.1</b> Vectores</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="6-1-vectores.html"><a href="6-1-vectores.html#creación-de-vectores"><i class="fa fa-check"></i><b>6.1.1</b> Creación de vectores</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-1-vectores.html"><a href="6-1-vectores.html#vectorización-de-operaciones"><i class="fa fa-check"></i><b>6.1.2</b> Vectorización de operaciones</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-2-matrices-y-arrays.html"><a href="6-2-matrices-y-arrays.html"><i class="fa fa-check"></i><b>6.2</b> Matrices y arrays</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="6-2-matrices-y-arrays.html"><a href="6-2-matrices-y-arrays.html#creación-de-matrices"><i class="fa fa-check"></i><b>6.2.1</b> Creación de matrices</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-2-matrices-y-arrays.html"><a href="6-2-matrices-y-arrays.html#propiedades-de-las-matrices"><i class="fa fa-check"></i><b>6.2.2</b> Propiedades de las matrices</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-3-data-frames.html"><a href="6-3-data-frames.html"><i class="fa fa-check"></i><b>6.3</b> Data frames</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="6-3-data-frames.html"><a href="6-3-data-frames.html#propiedades-de-un-data-frame"><i class="fa fa-check"></i><b>6.3.1</b> Propiedades de un data frame</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-4-listas.html"><a href="6-4-listas.html"><i class="fa fa-check"></i><b>6.4</b> Listas</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="6-4-listas.html"><a href="6-4-listas.html#propiedades-de-una-lista"><i class="fa fa-check"></i><b>6.4.1</b> Propiedades de una lista</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-5-coerción-1.html"><a href="6-5-coerción-1.html"><i class="fa fa-check"></i><b>6.5</b> Coerción</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-subconjuntos.html"><a href="7-subconjuntos.html"><i class="fa fa-check"></i><b>7</b> Subconjuntos</a>
<ul>
<li class="chapter" data-level="7.1" data-path="7-1-índices.html"><a href="7-1-índices.html"><i class="fa fa-check"></i><b>7.1</b> Índices</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="7-1-índices.html"><a href="7-1-índices.html#vectores-1"><i class="fa fa-check"></i><b>7.1.1</b> Vectores</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-1-índices.html"><a href="7-1-índices.html#data-frames-1"><i class="fa fa-check"></i><b>7.1.2</b> Data frames</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-1-índices.html"><a href="7-1-índices.html#matrices"><i class="fa fa-check"></i><b>7.1.3</b> Matrices</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-1-índices.html"><a href="7-1-índices.html#arrays"><i class="fa fa-check"></i><b>7.1.4</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-2-nombres.html"><a href="7-2-nombres.html"><i class="fa fa-check"></i><b>7.2</b> Nombres</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="7-2-nombres.html"><a href="7-2-nombres.html#data-frames-2"><i class="fa fa-check"></i><b>7.2.1</b> Data frames</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-2-nombres.html"><a href="7-2-nombres.html#listas-1"><i class="fa fa-check"></i><b>7.2.2</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-3-subconjuntos-por-índice-y-nombre.html"><a href="7-3-subconjuntos-por-índice-y-nombre.html"><i class="fa fa-check"></i><b>7.3</b> Subconjuntos por índice y nombre</a></li>
<li class="chapter" data-level="7.4" data-path="7-4-el-signo-de-dolar-y-los-corchetes-dobles.html"><a href="7-4-el-signo-de-dolar-y-los-corchetes-dobles.html"><i class="fa fa-check"></i><b>7.4</b> El signo de dolar <code>$</code> y los corchetes dobles <code>[[]]</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="7-4-el-signo-de-dolar-y-los-corchetes-dobles.html"><a href="7-4-el-signo-de-dolar-y-los-corchetes-dobles.html#los-data-frames-y-listas-son-como-cajas-de-manzanas"><i class="fa fa-check"></i><b>7.4.1</b> Los data frames y listas son como cajas de manzanas</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="7-5-condicionales.html"><a href="7-5-condicionales.html"><i class="fa fa-check"></i><b>7.5</b> Condicionales</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="7-5-condicionales.html"><a href="7-5-condicionales.html#usando-condicionales"><i class="fa fa-check"></i><b>7.5.1</b> Usando condicionales</a></li>
<li class="chapter" data-level="7.5.2" data-path="7-5-condicionales.html"><a href="7-5-condicionales.html#la-función-subset"><i class="fa fa-check"></i><b>7.5.2</b> La función <code>subset()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-funciones.html"><a href="8-funciones.html"><i class="fa fa-check"></i><b>8</b> Funciones</a>
<ul>
<li class="chapter" data-level="8.1" data-path="8-1-por-qué-necesitamos-crear-nuestrar-propias-funciones.html"><a href="8-1-por-qué-necesitamos-crear-nuestrar-propias-funciones.html"><i class="fa fa-check"></i><b>8.1</b> ¿Por qué necesitamos crear nuestrar propias funciones?</a></li>
<li class="chapter" data-level="8.2" data-path="8-2-funciones-definidas-por-el-usuario.html"><a href="8-2-funciones-definidas-por-el-usuario.html"><i class="fa fa-check"></i><b>8.2</b> Funciones definidas por el usuario</a></li>
<li class="chapter" data-level="8.3" data-path="8-3-nuestra-primera-función.html"><a href="8-3-nuestra-primera-función.html"><i class="fa fa-check"></i><b>8.3</b> Nuestra primera función</a></li>
<li class="chapter" data-level="8.4" data-path="8-4-definiendo-la-función-crear-histograma.html"><a href="8-4-definiendo-la-función-crear-histograma.html"><i class="fa fa-check"></i><b>8.4</b> Definiendo la función <code>crear_histograma()</code></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="8-4-definiendo-la-función-crear-histograma.html"><a href="8-4-definiendo-la-función-crear-histograma.html#ejecutando"><i class="fa fa-check"></i><b>8.4.1</b> Ejecutando</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-estructuras-de-control.html"><a href="9-estructuras-de-control.html"><i class="fa fa-check"></i><b>9</b> Estructuras de control</a>
<ul>
<li class="chapter" data-level="9.1" data-path="9-1-if-else.html"><a href="9-1-if-else.html"><i class="fa fa-check"></i><b>9.1</b> if, else</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="9-1-if-else.html"><a href="9-1-if-else.html#usando-if-y-else"><i class="fa fa-check"></i><b>9.1.1</b> Usando if y else</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-1-if-else.html"><a href="9-1-if-else.html#ifelse"><i class="fa fa-check"></i><b>9.1.2</b> ifelse</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-2-for.html"><a href="9-2-for.html"><i class="fa fa-check"></i><b>9.2</b> for</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="9-2-for.html"><a href="9-2-for.html#usando-for"><i class="fa fa-check"></i><b>9.2.1</b> Usando for</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-2-for.html"><a href="9-2-for.html#for-y-vectorización"><i class="fa fa-check"></i><b>9.2.2</b> for y vectorización</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="9-3-while.html"><a href="9-3-while.html"><i class="fa fa-check"></i><b>9.3</b> while</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="9-3-while.html"><a href="9-3-while.html#usando-while"><i class="fa fa-check"></i><b>9.3.1</b> Usando while</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="9-4-break-y-next.html"><a href="9-4-break-y-next.html"><i class="fa fa-check"></i><b>9.4</b> break y next</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="9-4-break-y-next.html"><a href="9-4-break-y-next.html#usando-break"><i class="fa fa-check"></i><b>9.4.1</b> Usando break</a></li>
<li class="chapter" data-level="9.4.2" data-path="9-4-break-y-next.html"><a href="9-4-break-y-next.html#usando-next"><i class="fa fa-check"></i><b>9.4.2</b> Usando next</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="9-5-repeat.html"><a href="9-5-repeat.html"><i class="fa fa-check"></i><b>9.5</b> repeat</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-la-familia-apply.html"><a href="10-la-familia-apply.html"><i class="fa fa-check"></i><b>10</b> La familia apply</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="10-la-familia-apply.html"><a href="10-la-familia-apply.html#un-recordatorio-sobre-vectorización"><i class="fa fa-check"></i><b>10.0.1</b> Un recordatorio sobre vectorización</a></li>
<li class="chapter" data-level="10.0.2" data-path="10-la-familia-apply.html"><a href="10-la-familia-apply.html#las-funciones-de-la-familia-apply"><i class="fa fa-check"></i><b>10.0.2</b> Las funciones de la familia apply</a></li>
<li class="chapter" data-level="10.1" data-path="10-1-apply.html"><a href="10-1-apply.html"><i class="fa fa-check"></i><b>10.1</b> apply</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="10-1-apply.html"><a href="10-1-apply.html#qué-es-x"><i class="fa fa-check"></i><b>10.1.1</b> ¿Qué es X</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-1-apply.html"><a href="10-1-apply.html#qué-es-margin"><i class="fa fa-check"></i><b>10.1.2</b> ¿Qué es MARGIN?</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-1-apply.html"><a href="10-1-apply.html#qué-es-fun"><i class="fa fa-check"></i><b>10.1.3</b> ¿Qué es FUN?</a></li>
<li class="chapter" data-level="10.1.4" data-path="10-1-apply.html"><a href="10-1-apply.html#cómo-sabe-fun-cuáles-son-sus-argumentos"><i class="fa fa-check"></i><b>10.1.4</b> ¿Cómo sabe FUN cuáles son sus argumentos?</a></li>
<li class="chapter" data-level="10.1.5" data-path="10-1-apply.html"><a href="10-1-apply.html#qué-pasa-si-deseamos-utilizar-los-demás-argumentos-de-una-función-con-apply"><i class="fa fa-check"></i><b>10.1.5</b> ¿Qué pasa si deseamos utilizar los demás argumentos de una función con apply?</a></li>
<li class="chapter" data-level="10.1.6" data-path="10-1-apply.html"><a href="10-1-apply.html#qué-tipo-de-resultados-devuelve-apply"><i class="fa fa-check"></i><b>10.1.6</b> ¿Qué tipo de resultados devuelve apply?</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-2-lapply.html"><a href="10-2-lapply.html"><i class="fa fa-check"></i><b>10.2</b> lapply</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="10-2-lapply.html"><a href="10-2-lapply.html#usando-lapply"><i class="fa fa-check"></i><b>10.2.1</b> Usando lapply()</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-2-lapply.html"><a href="10-2-lapply.html#usando-lapply-en-lugar-de-un-bucle-for"><i class="fa fa-check"></i><b>10.2.2</b> Usando lapply() en lugar de un bucle for</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-2-lapply.html"><a href="10-2-lapply.html#usando-lapply-con-listas"><i class="fa fa-check"></i><b>10.2.3</b> Usando lapply con listas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-importar-y-exportar-datos.html"><a href="11-importar-y-exportar-datos.html"><i class="fa fa-check"></i><b>11</b> Importar y exportar datos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="11-1-descargando-datos.html"><a href="11-1-descargando-datos.html"><i class="fa fa-check"></i><b>11.1</b> Descargando datos</a></li>
<li class="chapter" data-level="11.2" data-path="11-2-tablas-datos-rectangulares.html"><a href="11-2-tablas-datos-rectangulares.html"><i class="fa fa-check"></i><b>11.2</b> Tablas (datos rectangulares)</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="11-2-tablas-datos-rectangulares.html"><a href="11-2-tablas-datos-rectangulares.html#archivos-csv"><i class="fa fa-check"></i><b>11.2.1</b> Archivos CSV</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-3-archivos-con-una-estructura-desconocida.html"><a href="11-3-archivos-con-una-estructura-desconocida.html"><i class="fa fa-check"></i><b>11.3</b> Archivos con una estructura desconocida</a></li>
<li class="chapter" data-level="11.4" data-path="11-4-exportar-datos.html"><a href="11-4-exportar-datos.html"><i class="fa fa-check"></i><b>11.4</b> Exportar datos</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="11-4-exportar-datos.html"><a href="11-4-exportar-datos.html#data-frames-y-matrices"><i class="fa fa-check"></i><b>11.4.1</b> Data frames y matrices</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-4-exportar-datos.html"><a href="11-4-exportar-datos.html#listas-2"><i class="fa fa-check"></i><b>11.4.2</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="11-5-hojas-de-cálculo-de-excel.html"><a href="11-5-hojas-de-cálculo-de-excel.html"><i class="fa fa-check"></i><b>11.5</b> Hojas de cálculo de Excel</a></li>
<li class="chapter" data-level="11.6" data-path="11-6-datos-de-paquetes-estadísticos-comerciales-spss-sas-y-stata.html"><a href="11-6-datos-de-paquetes-estadísticos-comerciales-spss-sas-y-stata.html"><i class="fa fa-check"></i><b>11.6</b> Datos de paquetes estadísticos comerciales (SPSS, SAS y STATA)</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-gráficas.html"><a href="12-gráficas.html"><i class="fa fa-check"></i><b>12</b> Gráficas</a>
<ul>
<li class="chapter" data-level="12.1" data-path="12-1-datos-usados-en-el-capítulo.html"><a href="12-1-datos-usados-en-el-capítulo.html"><i class="fa fa-check"></i><b>12.1</b> Datos usados en el capítulo</a></li>
<li class="chapter" data-level="12.2" data-path="12-2-la-función-plot.html"><a href="12-2-la-función-plot.html"><i class="fa fa-check"></i><b>12.2</b> La función <code>plot()</code></a></li>
<li class="chapter" data-level="12.3" data-path="12-3-histogramas.html"><a href="12-3-histogramas.html"><i class="fa fa-check"></i><b>12.3</b> Histogramas</a></li>
<li class="chapter" data-level="12.4" data-path="12-4-gráficas-de-barras.html"><a href="12-4-gráficas-de-barras.html"><i class="fa fa-check"></i><b>12.4</b> Gráficas de barras</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="12-4-gráficas-de-barras.html"><a href="12-4-gráficas-de-barras.html#la-función-barplot"><i class="fa fa-check"></i><b>12.4.1</b> La función <code>barplot()</code></a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="12-5-leyendas.html"><a href="12-5-leyendas.html"><i class="fa fa-check"></i><b>12.5</b> Leyendas</a></li>
<li class="chapter" data-level="12.6" data-path="12-6-diagramas-de-dispersión.html"><a href="12-6-diagramas-de-dispersión.html"><i class="fa fa-check"></i><b>12.6</b> Diagramas de dispersión</a></li>
<li class="chapter" data-level="12.7" data-path="12-7-diagramas-de-caja.html"><a href="12-7-diagramas-de-caja.html"><i class="fa fa-check"></i><b>12.7</b> Diagramas de caja</a></li>
<li class="chapter" data-level="12.8" data-path="12-8-gráficos-de-mosaico.html"><a href="12-8-gráficos-de-mosaico.html"><i class="fa fa-check"></i><b>12.8</b> Gráficos de mosaico</a></li>
<li class="chapter" data-level="12.9" data-path="12-9-exportar-gráficos.html"><a href="12-9-exportar-gráficos.html"><i class="fa fa-check"></i><b>12.9</b> Exportar gráficos</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-conclusión.html"><a href="13-conclusión.html"><i class="fa fa-check"></i><b>13</b> Conclusión</a></li>
<li class="divider"></li>
<li><a href="https://www.jeshuanomics.com/" target="blank">Publicado por JeshuaNomics</a></li>
<li><a href="https://github.com/JeshuaNomics" class="fa fa-github"><span class="label">  Git Hub</span></a></li>	
<li><a href="https://www.facebook.com/JeshuaNomics/" class="fa fa-facebook"><span class="label">  Facebook</span></a></li>
<li><a href="https://twitter.com/JeshuaNomics" class="fa fa-twitter"><span class="label">  Twitter</span></a></li>
<li><a href="https://www.linkedin.com/in/jeshua-romero-guadarrama/" class="fa fa-linkedin"><span class="label">  Linkedin</span></a></li>
<li><a href="https://vk.com/jeshuanomics" class="fa fa-vk"><span class="label">  Vkontakte</span></a></li>
<li><a href="https://jeshuanomics.tumblr.com/" class="fa fa-tumblr"><span class="label">  Tumblr</span></a></li>
<li><a href="https://www.youtube.com/channel/UCY7f84mJGvMN7TF7XI4-Jgg?view_as=subscriber/" class="fa fa-youtube-play"><span class="label">  YouTube</span></a></li>	
<li><a href="https://www.instagram.com/JeshuaNomics/" class="fa fa-instagram"><span class="label">  Instagram</span></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Grupo de estudios económicos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lapply" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> lapply</h2>
<p><code>lapply()</code> es un caso especial de <code>apply()</code>, diseñado para <strong>aplicar funciones a todos los elementos de una lista</strong>. La <strong>l</strong> de su nombre se refiere, precisamente, a <strong>lista</strong>.</p>
<p><code>lapply()</code> intentará coercionar a una lista el objeto que demos como argumento y después aplicará una función a todos sus elementos.</p>
<p><code>lapply</code> siempre nos devolverá una lista como resultado. A diferencia de <code>apply</code>, sabemos que siempre obtendremos un objeto de tipo lista después de aplicar una función, sin importar cuál función sea.</p>
<p>Dado que en R todas las estructuras de datos pueden coercionarse a una lista, <code>lapply()</code> puede usarse en un número más amplio de casos que <code>apply()</code>, además de que esto nos permite utilizar funciones que aceptan argumentos distintos a vectores.</p>
<p>La estructura de esta función es:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="10-2-lapply.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(X, FUN)</span></code></pre></div>
<p>En donde:</p>
<ul>
<li><code>X</code> es una lista o un objeto coercionable a una lista.</li>
<li><code>FUN</code> es la función a aplicar.</li>
</ul>
<p>Estos argumentos son idéntico a los de <code>apply()</code>, pero a diferencia aquí no especificamos <code>MARGIN</code>, pues las listas son estructuras con una unidimensionales, que sólo tienen largo.</p>
<div id="usando-lapply" class="section level3" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> Usando lapply()</h3>
<p>Probemos <code>lapply()</code> aplicando una función a un data frame. Usaremos el conjunto de datos <code>trees</code>, incluido por defecto en R <em>base</em>.</p>
<p><code>trees</code> contiene datos sobre el grueso, alto y volumen de distinto árboles de cerezo negro. Cada una de estas variables está almacenada en una columna del data frame.</p>
<p>Veamos los primeros cinco renglones de <code>trees</code>.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="10-2-lapply.html#cb243-1" aria-hidden="true" tabindex="-1"></a>trees[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, ]</span>
<span id="cb243-2"><a href="10-2-lapply.html#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Girth Height Volume</span></span>
<span id="cb243-3"><a href="10-2-lapply.html#cb243-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   8.3     70   10.3</span></span>
<span id="cb243-4"><a href="10-2-lapply.html#cb243-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   8.6     65   10.3</span></span>
<span id="cb243-5"><a href="10-2-lapply.html#cb243-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   8.8     63   10.2</span></span>
<span id="cb243-6"><a href="10-2-lapply.html#cb243-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  10.5     72   16.4</span></span>
<span id="cb243-7"><a href="10-2-lapply.html#cb243-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  10.7     81   18.8</span></span></code></pre></div>
<p>Aplicamos la función <code>mean()</code>, usando su nombre.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="10-2-lapply.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="at">X =</span> trees, <span class="at">FUN =</span> mean)</span>
<span id="cb244-2"><a href="10-2-lapply.html#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Girth</span></span>
<span id="cb244-3"><a href="10-2-lapply.html#cb244-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 13.24839</span></span>
<span id="cb244-4"><a href="10-2-lapply.html#cb244-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb244-5"><a href="10-2-lapply.html#cb244-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Height</span></span>
<span id="cb244-6"><a href="10-2-lapply.html#cb244-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 76</span></span>
<span id="cb244-7"><a href="10-2-lapply.html#cb244-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb244-8"><a href="10-2-lapply.html#cb244-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Volume</span></span>
<span id="cb244-9"><a href="10-2-lapply.html#cb244-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 30.17097</span></span></code></pre></div>
<p>Dado que un data frame está formado por columnas y cada columna es un vector atómico, cuando usamos <code>lapply()</code> , la función es aplicada a cada columna. <code>lapply()</code>, a diferencia de <code>apply()</code> no puede aplicarse a renglones.</p>
<p>En este ejemplo, obtuvimos la media de grueso (Girth), alto (Height) y volumen (Volume), como una lista.</p>
<p>Verificamos que la clase de nuestro resultado es una lista con <code>class()</code>.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="10-2-lapply.html#cb245-1" aria-hidden="true" tabindex="-1"></a>arboles <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="at">X =</span> trees, <span class="at">FUN =</span> mean)</span>
<span id="cb245-2"><a href="10-2-lapply.html#cb245-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-3"><a href="10-2-lapply.html#cb245-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(arboles)</span>
<span id="cb245-4"><a href="10-2-lapply.html#cb245-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span></code></pre></div>
<p>Esto es muy conveniente, pues la recomendación para almacenar datos en un data frame es que cada columna represente una variable y cada renglón un caso (por ejemplo, el enfoque <strong>tidy</strong> de <a href="https://www.jstatsoft.org/article/view/v059i10/v59i10.pdf">Wickham (2014)</a>). Por lo tanto, con <code>lapply()</code> podemos manipular y transformar datos, por variable.</p>
<p>Al igual que con <code>apply()</code>, podemos definir argumentos adicionales a las funciones que usemos, usando sus nombres, después del nombre de la función.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="10-2-lapply.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="at">X =</span> trees, <span class="at">FUN =</span> quantile, <span class="at">probs =</span> .<span class="dv">8</span>)</span>
<span id="cb246-2"><a href="10-2-lapply.html#cb246-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Girth</span></span>
<span id="cb246-3"><a href="10-2-lapply.html#cb246-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  80% </span></span>
<span id="cb246-4"><a href="10-2-lapply.html#cb246-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16.3 </span></span>
<span id="cb246-5"><a href="10-2-lapply.html#cb246-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb246-6"><a href="10-2-lapply.html#cb246-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Height</span></span>
<span id="cb246-7"><a href="10-2-lapply.html#cb246-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb246-8"><a href="10-2-lapply.html#cb246-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  81 </span></span>
<span id="cb246-9"><a href="10-2-lapply.html#cb246-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb246-10"><a href="10-2-lapply.html#cb246-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Volume</span></span>
<span id="cb246-11"><a href="10-2-lapply.html#cb246-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  80% </span></span>
<span id="cb246-12"><a href="10-2-lapply.html#cb246-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 42.6</span></span></code></pre></div>
<p>Si usamos <code>lapply</code> con una matriz, la función se aplicará a cada <strong>celda</strong> de la matriz, no a cada columna.</p>
<p>Creamos una matriz.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="10-2-lapply.html#cb247-1" aria-hidden="true" tabindex="-1"></a>matriz <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb247-2"><a href="10-2-lapply.html#cb247-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-3"><a href="10-2-lapply.html#cb247-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Resultado</span></span>
<span id="cb247-4"><a href="10-2-lapply.html#cb247-4" aria-hidden="true" tabindex="-1"></a>matriz</span>
<span id="cb247-5"><a href="10-2-lapply.html#cb247-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span id="cb247-6"><a href="10-2-lapply.html#cb247-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    4    7</span></span>
<span id="cb247-7"><a href="10-2-lapply.html#cb247-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2    5    8</span></span>
<span id="cb247-8"><a href="10-2-lapply.html#cb247-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3    6    9</span></span></code></pre></div>
<p>Llamamos a <code>lapply()</code>.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="10-2-lapply.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(matriz, quantile, <span class="at">probs =</span> .<span class="dv">8</span>)</span>
<span id="cb248-2"><a href="10-2-lapply.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb248-3"><a href="10-2-lapply.html#cb248-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-4"><a href="10-2-lapply.html#cb248-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1 </span></span>
<span id="cb248-5"><a href="10-2-lapply.html#cb248-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-6"><a href="10-2-lapply.html#cb248-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb248-7"><a href="10-2-lapply.html#cb248-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-8"><a href="10-2-lapply.html#cb248-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   2 </span></span>
<span id="cb248-9"><a href="10-2-lapply.html#cb248-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-10"><a href="10-2-lapply.html#cb248-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb248-11"><a href="10-2-lapply.html#cb248-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-12"><a href="10-2-lapply.html#cb248-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3 </span></span>
<span id="cb248-13"><a href="10-2-lapply.html#cb248-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-14"><a href="10-2-lapply.html#cb248-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb248-15"><a href="10-2-lapply.html#cb248-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-16"><a href="10-2-lapply.html#cb248-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   4 </span></span>
<span id="cb248-17"><a href="10-2-lapply.html#cb248-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-18"><a href="10-2-lapply.html#cb248-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb248-19"><a href="10-2-lapply.html#cb248-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-20"><a href="10-2-lapply.html#cb248-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   5 </span></span>
<span id="cb248-21"><a href="10-2-lapply.html#cb248-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-22"><a href="10-2-lapply.html#cb248-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb248-23"><a href="10-2-lapply.html#cb248-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-24"><a href="10-2-lapply.html#cb248-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   6 </span></span>
<span id="cb248-25"><a href="10-2-lapply.html#cb248-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-26"><a href="10-2-lapply.html#cb248-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb248-27"><a href="10-2-lapply.html#cb248-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-28"><a href="10-2-lapply.html#cb248-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   7 </span></span>
<span id="cb248-29"><a href="10-2-lapply.html#cb248-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-30"><a href="10-2-lapply.html#cb248-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[8]]</span></span>
<span id="cb248-31"><a href="10-2-lapply.html#cb248-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-32"><a href="10-2-lapply.html#cb248-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   8 </span></span>
<span id="cb248-33"><a href="10-2-lapply.html#cb248-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb248-34"><a href="10-2-lapply.html#cb248-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[9]]</span></span>
<span id="cb248-35"><a href="10-2-lapply.html#cb248-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb248-36"><a href="10-2-lapply.html#cb248-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   9</span></span></code></pre></div>
<p>Para usar una matriz con <code>lapply()</code> y que la función se aplique a cada columna, primero la coercionamos a un data frame con la función <code>as.data.frame()</code></p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="10-2-lapply.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">as.data.frame</span>(matriz), quantile, <span class="at">probs =</span> .<span class="dv">8</span>)</span>
<span id="cb249-2"><a href="10-2-lapply.html#cb249-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V1</span></span>
<span id="cb249-3"><a href="10-2-lapply.html#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb249-4"><a href="10-2-lapply.html#cb249-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2.6 </span></span>
<span id="cb249-5"><a href="10-2-lapply.html#cb249-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb249-6"><a href="10-2-lapply.html#cb249-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V2</span></span>
<span id="cb249-7"><a href="10-2-lapply.html#cb249-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb249-8"><a href="10-2-lapply.html#cb249-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5.6 </span></span>
<span id="cb249-9"><a href="10-2-lapply.html#cb249-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb249-10"><a href="10-2-lapply.html#cb249-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V3</span></span>
<span id="cb249-11"><a href="10-2-lapply.html#cb249-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb249-12"><a href="10-2-lapply.html#cb249-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8.6</span></span></code></pre></div>
<p>Si deseamos aplicar una función a los renglones de una matriz, una manera de lograr es transponer la matriz con <code>t()</code> y después coercionar a un data frame.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="10-2-lapply.html#cb250-1" aria-hidden="true" tabindex="-1"></a>matriz_t <span class="ot">&lt;-</span> <span class="fu">t</span>(matriz)</span>
<span id="cb250-2"><a href="10-2-lapply.html#cb250-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-3"><a href="10-2-lapply.html#cb250-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">as.data.frame</span>(matriz_t), quantile, <span class="at">probs =</span> .<span class="dv">8</span>)</span>
<span id="cb250-4"><a href="10-2-lapply.html#cb250-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V1</span></span>
<span id="cb250-5"><a href="10-2-lapply.html#cb250-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb250-6"><a href="10-2-lapply.html#cb250-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5.8 </span></span>
<span id="cb250-7"><a href="10-2-lapply.html#cb250-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb250-8"><a href="10-2-lapply.html#cb250-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V2</span></span>
<span id="cb250-9"><a href="10-2-lapply.html#cb250-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb250-10"><a href="10-2-lapply.html#cb250-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6.8 </span></span>
<span id="cb250-11"><a href="10-2-lapply.html#cb250-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb250-12"><a href="10-2-lapply.html#cb250-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $V3</span></span>
<span id="cb250-13"><a href="10-2-lapply.html#cb250-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 80% </span></span>
<span id="cb250-14"><a href="10-2-lapply.html#cb250-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7.8</span></span></code></pre></div>
<p>Con vectores como argumento, <code>lapply()</code> aplicará la función a cada elementos del vector, de manera similar a una vectorización de operaciones.</p>
<p>Por ejemplo, usamos <code>lapply()</code> para obtener la raíz cuadrada de un vector numérico del 1 al 4, con la función <code>sqrt()</code>.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="10-2-lapply.html#cb251-1" aria-hidden="true" tabindex="-1"></a>mi_vector <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb251-2"><a href="10-2-lapply.html#cb251-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-3"><a href="10-2-lapply.html#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(mi_vector, sqrt)</span>
<span id="cb251-4"><a href="10-2-lapply.html#cb251-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb251-5"><a href="10-2-lapply.html#cb251-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb251-6"><a href="10-2-lapply.html#cb251-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb251-7"><a href="10-2-lapply.html#cb251-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb251-8"><a href="10-2-lapply.html#cb251-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.414214</span></span>
<span id="cb251-9"><a href="10-2-lapply.html#cb251-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb251-10"><a href="10-2-lapply.html#cb251-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb251-11"><a href="10-2-lapply.html#cb251-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.732051</span></span>
<span id="cb251-12"><a href="10-2-lapply.html#cb251-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb251-13"><a href="10-2-lapply.html#cb251-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb251-14"><a href="10-2-lapply.html#cb251-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
</div>
<div id="usando-lapply-en-lugar-de-un-bucle-for" class="section level3" number="10.2.2">
<h3><span class="header-section-number">10.2.2</span> Usando lapply() en lugar de un bucle for</h3>
<p>En muchos casos es posible reemplazar un bucle <code>for()</code> por un <code>lapply()</code>.</p>
<p>De hecho, <code>lapply()</code> está haciendo lo mismo que un <code>for()</code>, está iterando una operación en todos los elementos de una estructura de datos.</p>
<p>Por lo tanto, el siguiente código con un <code>for()</code>…</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="10-2-lapply.html#cb252-1" aria-hidden="true" tabindex="-1"></a>mi_vector <span class="ot">&lt;-</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb252-2"><a href="10-2-lapply.html#cb252-2" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb252-3"><a href="10-2-lapply.html#cb252-3" aria-hidden="true" tabindex="-1"></a>posicion <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb252-4"><a href="10-2-lapply.html#cb252-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-5"><a href="10-2-lapply.html#cb252-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(numero <span class="cf">in</span> mi_vector) {</span>
<span id="cb252-6"><a href="10-2-lapply.html#cb252-6" aria-hidden="true" tabindex="-1"></a>  resultado[posicion] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(numero)</span>
<span id="cb252-7"><a href="10-2-lapply.html#cb252-7" aria-hidden="true" tabindex="-1"></a>  posicion <span class="ot">&lt;-</span> posicion <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb252-8"><a href="10-2-lapply.html#cb252-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb252-9"><a href="10-2-lapply.html#cb252-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-10"><a href="10-2-lapply.html#cb252-10" aria-hidden="true" tabindex="-1"></a>resultado</span>
<span id="cb252-11"><a href="10-2-lapply.html#cb252-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.449490 2.645751 2.828427 3.000000 3.162278 3.316625 3.464102</span></span></code></pre></div>
<p>… nos dará los mismos resultados que el siguiente código con <code>lapply()</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="10-2-lapply.html#cb253-1" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb253-2"><a href="10-2-lapply.html#cb253-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-3"><a href="10-2-lapply.html#cb253-3" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">lapply</span>(mi_vector, sqrt)</span>
<span id="cb253-4"><a href="10-2-lapply.html#cb253-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-5"><a href="10-2-lapply.html#cb253-5" aria-hidden="true" tabindex="-1"></a>resultado</span>
<span id="cb253-6"><a href="10-2-lapply.html#cb253-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb253-7"><a href="10-2-lapply.html#cb253-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.44949</span></span>
<span id="cb253-8"><a href="10-2-lapply.html#cb253-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-9"><a href="10-2-lapply.html#cb253-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb253-10"><a href="10-2-lapply.html#cb253-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.645751</span></span>
<span id="cb253-11"><a href="10-2-lapply.html#cb253-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-12"><a href="10-2-lapply.html#cb253-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb253-13"><a href="10-2-lapply.html#cb253-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.828427</span></span>
<span id="cb253-14"><a href="10-2-lapply.html#cb253-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-15"><a href="10-2-lapply.html#cb253-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb253-16"><a href="10-2-lapply.html#cb253-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb253-17"><a href="10-2-lapply.html#cb253-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-18"><a href="10-2-lapply.html#cb253-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb253-19"><a href="10-2-lapply.html#cb253-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.162278</span></span>
<span id="cb253-20"><a href="10-2-lapply.html#cb253-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-21"><a href="10-2-lapply.html#cb253-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb253-22"><a href="10-2-lapply.html#cb253-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.316625</span></span>
<span id="cb253-23"><a href="10-2-lapply.html#cb253-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb253-24"><a href="10-2-lapply.html#cb253-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb253-25"><a href="10-2-lapply.html#cb253-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.464102</span></span></code></pre></div>
<p>El código con <code>lapply()</code> es mucho más breve y más sencillo de entender, al menos para otros usuarios de R.</p>
<p>El inconveniente es que obtenemos una lista como resultado en lugar de un vector, pero eso es fácil de resolver usando la función <code>as.numeric()</code> para hacer coerción a tipo numérico.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="10-2-lapply.html#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(resultado)</span>
<span id="cb254-2"><a href="10-2-lapply.html#cb254-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.449490 2.645751 2.828427 3.000000 3.162278 3.316625 3.464102</span></span></code></pre></div>
<p>El siguiente código es la manera en la que usamos <code>for()</code> si deseamos aplicar una función a todas sus columnas, tiene algunas partes que no hemos discutido, pero es sólo para ilustrar la diferencia simplemente usar <code>trees_max &lt;- lapply(trees, max)</code>.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="10-2-lapply.html#cb255-1" aria-hidden="true" tabindex="-1"></a>trees_max <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb255-2"><a href="10-2-lapply.html#cb255-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb255-3"><a href="10-2-lapply.html#cb255-3" aria-hidden="true" tabindex="-1"></a>columnas <span class="ot">&lt;-</span> <span class="fu">ncol</span>(trees)</span>
<span id="cb255-4"><a href="10-2-lapply.html#cb255-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-5"><a href="10-2-lapply.html#cb255-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>columnas) {</span>
<span id="cb255-6"><a href="10-2-lapply.html#cb255-6" aria-hidden="true" tabindex="-1"></a>  trees_max[i] <span class="ot">&lt;-</span> <span class="fu">max</span>(trees[, i])</span>
<span id="cb255-7"><a href="10-2-lapply.html#cb255-7" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span><span class="dv">1</span></span>
<span id="cb255-8"><a href="10-2-lapply.html#cb255-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb255-9"><a href="10-2-lapply.html#cb255-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-10"><a href="10-2-lapply.html#cb255-10" aria-hidden="true" tabindex="-1"></a>trees_max</span>
<span id="cb255-11"><a href="10-2-lapply.html#cb255-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20.6 87.0 77.0</span></span></code></pre></div>
</div>
<div id="usando-lapply-con-listas" class="section level3" number="10.2.3">
<h3><span class="header-section-number">10.2.3</span> Usando lapply con listas</h3>
<p>Hasta hora hemos hablado de usar <code>lapply()</code> con objetos que pueden coercionarse a una lista, pero ¿qué pasa si usamos esta función con una lista que contiene a otros objetos?</p>
<p>Pues la función se aplicará a cada uno de ellos. Por lo tanto, así podemos utilizar funciones que acepten todo tipo de objetos como argumento. Incluso podemos aplicar funciones a listas recursivas, es decir, listas de listas.</p>
<p>Por ejemplo, obtendremos el coeficiente de correlación de cuatro data frames contenidos en una sola lista. Esto no es posible con <code>apply()</code>, porque sólo podemos usar funciones que aceptan vectores como argumentos, pero con <code>lapply()</code> no es ningún problema.</p>
<p>Empezaremos creando una lista de data frames. Para esto, usaremos las función <code>rnorm()</code>, que genera números al azar y <code>set.seed()</code>, para que obtengas los mismos resultados aquí mostrados.</p>
<p><code>rnorm()</code> creara <code>n</code> números al azar (pseudoaleatorios, en realidad), sacados de una distribución normal con media 0 y desviación estándar 1. <code>set.seed()</code> es una función que “fija” los resultados de una generación de valores al azar. Cada que ejecutas <code>rnorm()</code> obtienes resultados diferentes, pero si das un número como argumento <code>seed</code> a <code>set.seed()</code>, siempre obtendrás los mismos números.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="10-2-lapply.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fijamos seed</span></span>
<span id="cb256-2"><a href="10-2-lapply.html#cb256-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="at">seed =</span> <span class="dv">2018</span>)</span>
<span id="cb256-3"><a href="10-2-lapply.html#cb256-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-4"><a href="10-2-lapply.html#cb256-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos una lista con tres data frames dentro</span></span>
<span id="cb256-5"><a href="10-2-lapply.html#cb256-5" aria-hidden="true" tabindex="-1"></a>tablas <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb256-6"><a href="10-2-lapply.html#cb256-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">df1 =</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">b =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">c =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>)),</span>
<span id="cb256-7"><a href="10-2-lapply.html#cb256-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">df2 =</span> <span class="fu">data.frame</span>(<span class="at">d =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">e =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">f =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>)),</span>
<span id="cb256-8"><a href="10-2-lapply.html#cb256-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">df3 =</span> <span class="fu">data.frame</span>(<span class="at">g =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">h =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>), <span class="at">i =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>))</span>
<span id="cb256-9"><a href="10-2-lapply.html#cb256-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb256-10"><a href="10-2-lapply.html#cb256-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-11"><a href="10-2-lapply.html#cb256-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Resultado</span></span>
<span id="cb256-12"><a href="10-2-lapply.html#cb256-12" aria-hidden="true" tabindex="-1"></a>tablas</span>
<span id="cb256-13"><a href="10-2-lapply.html#cb256-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df1</span></span>
<span id="cb256-14"><a href="10-2-lapply.html#cb256-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             a          b          c</span></span>
<span id="cb256-15"><a href="10-2-lapply.html#cb256-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.42298398 -0.2647112 -0.6430347</span></span>
<span id="cb256-16"><a href="10-2-lapply.html#cb256-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 -1.54987816  2.0994707 -1.0300287</span></span>
<span id="cb256-17"><a href="10-2-lapply.html#cb256-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 -0.06442932  0.8633512  0.7124813</span></span>
<span id="cb256-18"><a href="10-2-lapply.html#cb256-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  0.27088135 -0.6105871 -0.4457721</span></span>
<span id="cb256-19"><a href="10-2-lapply.html#cb256-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  1.73528367  0.6370556  0.2489796</span></span>
<span id="cb256-20"><a href="10-2-lapply.html#cb256-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb256-21"><a href="10-2-lapply.html#cb256-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df2</span></span>
<span id="cb256-22"><a href="10-2-lapply.html#cb256-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            d          e          f</span></span>
<span id="cb256-23"><a href="10-2-lapply.html#cb256-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -1.0741940  1.2638637 -0.2401222</span></span>
<span id="cb256-24"><a href="10-2-lapply.html#cb256-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 -1.8272617  0.2501979 -1.0586618</span></span>
<span id="cb256-25"><a href="10-2-lapply.html#cb256-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  0.0154919  0.2581954  0.4194091</span></span>
<span id="cb256-26"><a href="10-2-lapply.html#cb256-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 -1.6843613  1.7855342 -0.2709566</span></span>
<span id="cb256-27"><a href="10-2-lapply.html#cb256-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  0.2044675 -1.2197058 -0.6318248</span></span>
<span id="cb256-28"><a href="10-2-lapply.html#cb256-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb256-29"><a href="10-2-lapply.html#cb256-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df3</span></span>
<span id="cb256-30"><a href="10-2-lapply.html#cb256-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            g          h          i</span></span>
<span id="cb256-31"><a href="10-2-lapply.html#cb256-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.2284119 -0.4897908 -0.3594423</span></span>
<span id="cb256-32"><a href="10-2-lapply.html#cb256-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  1.1786797  1.4105216 -1.2995363</span></span>
<span id="cb256-33"><a href="10-2-lapply.html#cb256-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 -0.2662727 -1.0752636 -0.8698701</span></span>
<span id="cb256-34"><a href="10-2-lapply.html#cb256-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  0.5281408  0.2923947  1.0543623</span></span>
<span id="cb256-35"><a href="10-2-lapply.html#cb256-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 -1.7686592 -0.2066645 -0.1486396</span></span></code></pre></div>
<p>Para obtener el coeficiente de correlación usaremos la función <code>cor()</code>.</p>
<p>Esta función acepta como argumento una data frame o una matriz. Con este objeto, calculará el coeficiente de correlación <strong>R de Pearson</strong> existente entre cada una de sus columnas. Como resultado obtendremos una matriz de correlación.</p>
<p>Por ejemplo, este es el resultado de aplicar <code>cor()</code> a <code>iris</code>.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="10-2-lapply.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span>
<span id="cb257-2"><a href="10-2-lapply.html#cb257-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span id="cb257-3"><a href="10-2-lapply.html#cb257-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Sepal.Length    1.0000000  -0.1175698    0.8717538   0.8179411</span></span>
<span id="cb257-4"><a href="10-2-lapply.html#cb257-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Sepal.Width    -0.1175698   1.0000000   -0.4284401  -0.3661259</span></span>
<span id="cb257-5"><a href="10-2-lapply.html#cb257-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Petal.Length    0.8717538  -0.4284401    1.0000000   0.9628654</span></span>
<span id="cb257-6"><a href="10-2-lapply.html#cb257-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Petal.Width     0.8179411  -0.3661259    0.9628654   1.0000000</span></span></code></pre></div>
<p>Con <code>lapply</code> aplicaremos <code>cor()</code> a cada uno de los data frames contenidos en nuestra lista. El resultado será una lista de matrices de correlaciones.</p>
<p>Esto lo logramos con una línea de código.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="10-2-lapply.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="at">X =</span> tablas, <span class="at">FUN =</span> cor)</span>
<span id="cb258-2"><a href="10-2-lapply.html#cb258-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df1</span></span>
<span id="cb258-3"><a href="10-2-lapply.html#cb258-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            a          b          c</span></span>
<span id="cb258-4"><a href="10-2-lapply.html#cb258-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; a  1.0000000 -0.4427336  0.6355358</span></span>
<span id="cb258-5"><a href="10-2-lapply.html#cb258-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; b -0.4427336  1.0000000 -0.1057007</span></span>
<span id="cb258-6"><a href="10-2-lapply.html#cb258-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; c  0.6355358 -0.1057007  1.0000000</span></span>
<span id="cb258-7"><a href="10-2-lapply.html#cb258-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb258-8"><a href="10-2-lapply.html#cb258-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df2</span></span>
<span id="cb258-9"><a href="10-2-lapply.html#cb258-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            d          e         f</span></span>
<span id="cb258-10"><a href="10-2-lapply.html#cb258-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; d  1.0000000 -0.6960942 0.4709283</span></span>
<span id="cb258-11"><a href="10-2-lapply.html#cb258-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; e -0.6960942  1.0000000 0.2624429</span></span>
<span id="cb258-12"><a href="10-2-lapply.html#cb258-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; f  0.4709283  0.2624429 1.0000000</span></span>
<span id="cb258-13"><a href="10-2-lapply.html#cb258-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb258-14"><a href="10-2-lapply.html#cb258-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $df3</span></span>
<span id="cb258-15"><a href="10-2-lapply.html#cb258-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            g          h          i</span></span>
<span id="cb258-16"><a href="10-2-lapply.html#cb258-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; g  1.0000000  0.6228793 -0.1472657</span></span>
<span id="cb258-17"><a href="10-2-lapply.html#cb258-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; h  0.6228793  1.0000000 -0.1211321</span></span>
<span id="cb258-18"><a href="10-2-lapply.html#cb258-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i -0.1472657 -0.1211321  1.0000000</span></span></code></pre></div>
<p>De esta manera puedes manipular información de múltiples data frames, matrices o listas con muy pocas líneas de código y, en muchos casos, más rápidamente que con las alternativas existentes.</p>
<p>Finalmente, si asignamos los resultados de las última operación a un objeto, podemos usarlos y manipularlos de la misma manera que cualquier otra lista.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="10-2-lapply.html#cb259-1" aria-hidden="true" tabindex="-1"></a>correlaciones <span class="ot">&lt;-</span> <span class="fu">lapply</span>(tablas, cor)</span>
<span id="cb259-2"><a href="10-2-lapply.html#cb259-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-3"><a href="10-2-lapply.html#cb259-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraemos el primer elemento de la lista</span></span>
<span id="cb259-4"><a href="10-2-lapply.html#cb259-4" aria-hidden="true" tabindex="-1"></a>correlaciones[[<span class="dv">1</span>]]</span>
<span id="cb259-5"><a href="10-2-lapply.html#cb259-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            a          b          c</span></span>
<span id="cb259-6"><a href="10-2-lapply.html#cb259-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; a  1.0000000 -0.4427336  0.6355358</span></span>
<span id="cb259-7"><a href="10-2-lapply.html#cb259-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; b -0.4427336  1.0000000 -0.1057007</span></span>
<span id="cb259-8"><a href="10-2-lapply.html#cb259-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; c  0.6355358 -0.1057007  1.0000000</span></span></code></pre></div>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="10-1-apply.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="11-importar-y-exportar-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": true,
"whatsapp": false,
"all": ["vk", "linkedin", "twitter", "facebook"],
"tumblr": false,
"youtube": false,
"instagram": false
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/Jeshua-Romero-Guadarrama/CienciaPolitica/edit/master/10-apply.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R_grupo_de_estudios_economicos.pdf", "R_grupo_de_estudios_economicos.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
