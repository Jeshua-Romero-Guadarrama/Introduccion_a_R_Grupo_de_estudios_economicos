"0","nsim <- 100"
"0","set.seed(1)"
"0","grado.max <- 20"
"0","grados <- seq_len(grado.max) "
"0","mse <- mse.new <- matrix(nrow = grado.max, ncol = nsim) # Error cuadrÃ¡tico medio"
"0","for(i in seq_len(nsim)) {"
"0","  y <- mu + rnorm(n, 0, sd)"
"0","  y.new <- mu + rnorm(n, 0, sd)"
"0","  for (grado in grados) { # grado <- 1"
"0","    fit <- lm(y ~ poly(x, grado))"
"0","    mse[grado, i] <- mean(residuals(fit)^2)"
"0","    mse.new[grado, i] <- mean((y.new - fitted(fit))^2)"
"0","  }"
"0","}"
"0","# Simulaciones"
"0","matplot(grados, mse, type = ""l"", col = ""lightgray"", lty = 1, ylim = c(0, 2),"
"0","        xlab = ""Grado del polinomio (complejidad)"","
"0","        ylab = ""Error cuadrÃ¡tico medio"")"
